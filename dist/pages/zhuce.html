<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Document</title><link rel=stylesheet href=../css/common.css><link rel=stylesheet href=../css/zhuce.css><link rel=stylesheet href=/dist/font_icon/iconfont.css><link rel=stylesheet href=../lib/bootstrap/dist/css/bootstrap.min.css></head><body><div class=heard><div class=center><img src=../images/mask_03.png alt=""></div></div><div class=box><div class=main><div class=reg><a href="" class=phone><span class="iconfont icon-contextphone"></span><p>手机号</p></a><a href="" class=email><span class="iconfont icon-icon-"></span><p>电子邮箱</p></a><div class=reg-r><p>已有华为账号<a href=../pages/denglu.html>登录&nbsp;&nbsp;&gt;</a></p></div></div><div class=register><form action=POST id=login><div class=register-nav><div class=nav-title><h2>注册华为账号</h2><p>用于访问所有华为终端云服务</p></div><div class=container><input type=text id=username name=username class=input-1 placeholder=请输入你的用户名></div><div class=container><input type=text id=password name=password class=input-2 placeholder=请输入你的密码></div><div class=reg-btn><button class=btn>注册</button></div></div></form></div></div><div class=main-nav></div><div class=footer><p class=footer-p1><a href="">华为账号与云空间用户协议</a> <em>|</em> <a href="">关于华为云账号与云空间隐私的声明</a> <em>|</em> <a href="">常见问题</a> <em>|</em> <a href="">Cookies</a></p><p class=footer-p2>Copyright @ 2011-2019&nbsp;华为软件技术有限公司&nbsp;版权所有&nbsp;保留一切&nbsp;苏B2-2007020&nbsp;苏ICP备09062682号9</p></div></div><script src=../lib/jquery/dist//jquery.min.js></script><script src=../lib/jquery-validate/jquery.validate.min.js></script><script src=../lib/jquery-validate/localization/messages_zh.min.js></script><script>$('#login').validate({
            rules: {
                username: 'required',
                password: {
                    required: true,
                    minlength: 6,
                    maxlength: 11,
                },
                
            },

            massagea: {
                username: '用户名不能为空',
                password: {
                    required: true,
                    minlength: '密码不能少于6位数'
                },
              
            },
        })


        var Inpname = document.querySelector('#username')
        var Inppsd = document.querySelector('#password')
        $('.btn').click((e) => {

            e = e || window.event;
            e.preventDefault();

            var uname = Inpname.value
            var upsd = Inppsd.value

            var xhr = new XMLHttpRequest();

            xhr.open('post', 'http://localhost/server/cart.php');

            xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded');

            xhr.onload = function () {
                var res = JSON.parse(xhr.responseText)
                console.log(res);
                
                if (res.code === 1) {
                    alert(res.message)
                    window.location.href = './index.html'
                }else if(res.code === 0){
                    alert(res.message)
                    window.location.href = './denglu.html'
                }
            }

            xhr.send(`username=${uname}&password=${upsd}`)
        })


        // let user = document.querySelector("#username")
        // let pass = document.querySelector("#password")
        // $('button').click(() => {
        //     console.log(user.value)
        //     console.log(pass.value)

        //     e = e || window.event;
        //     e.preventDefault();
        //     $.ajax({
        //         url: '/cart',
        //         type: 'post',
        //         data: {
        //             username: user.value,
        //             password: pass.value
        //         },
        //         // dataType: 'json',
        //         success: function (res) {
        //             console.log(res)
        //             if (res.code === 1) {
        //                 window.location.href = "./index.html";
        //             }

        //         }
        //     })
        // })</script></body></html>